<section class="p-6 bg-gray-50 min-h-screen">
    <h1 class="text-2xl font-bold text-[#234C6A] mb-4">Orders List</h1>

    @if(isLoading){
    <div class="text-center text-gray-500">Loading...</div>
    }@else {
    <div class="text-red-500">{{ errorMsg }}</div>
    }

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
        @for (order of orders; track $index) {
        <div class="p-4 bg-white rounded-xl shadow-md border border-gray-200">
            <div class="mb-2">
                <p class="font-semibold text-[#234C6A]">Order ID: <span class="text-gray-700">{{ order._id }}</span></p>
                <p>User: <span class="font-medium">{{ order.user }}</span></p>
                <p>Total: <span class="font-bold text-green-700">{{ order.totalPrice }} EGP</span></p>
            </div>

            <p>Status:
                <span class="px-3 py-1 rounded-lg text-white text-sm" [ngClass]="{
                      'bg-yellow-500': order.status === 'pending',
                      'bg-blue-500': order.status === 'shipped',
                      'bg-green-600': order.status === 'delivered',
                      'bg-red-500': order.status === 'cancelled'
                    }">
                    {{ order.status }}
                </span>
            </p>

            <p class="text-sm text-gray-500 mt-2">Created at: {{ order.createdAt }}</p>

            <div class="mt-3 flex gap-2">
                <button (click)="cancelOrder(order._id)" [disabled]="order.status === 'cancelled'"
                    class="bg-red-500 hover:bg-red-600 text-white rounded-lg px-4 py-1">
                    Cancel
                </button>
            </div>
        </div>
        }
    </div>
</section>